@startuml
actor Utente
participant "UserPanelController" as Controller
participant "PopupBuilder" as UI
participant "GameService" as Gestore
participant "Timer" as Timer

== Avvio app ==
Utente -> UI : apre l'applicazione
UI -> Controller : handleLivelli()

== Selezione livello ==
Utente -> UI : seleziona livello
UI -> Controller : handleLivelliSelezionato(livello)

Controller -> Gestore : getDocumentForLevel(livello)
Gestore -> DocumentDAO : selectById(livello)
alt Documento disponibile
    DocumentDAO --> Gestore : Document
    Gestore --> Controller : Document
    Controller -> UI : mostra il documento
    UI -> Timer : start()
else Documento non disponibile
    DocumentDAO --> Gestore : Optional vuoto
    Gestore --> Controller : Optional vuoto
    Controller -> UI : mostra errore "Documento non trovato"
end
@enduml
